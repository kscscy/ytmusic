<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="lib/bootstrap/css/bootstrap.css">
<link rel="stylesheet" href="lib/bootstrap/css/bootstrap-theme.css">

<link href='assets/css/styles.css' rel='stylesheet' type='text/css'>
<link rel="stylesheet"
  href="assets/css/font-awesome-4.3.0/css/font-awesome.min.css">
<link rel="shortcut icon" href="/assets/img/favicon.ico"
  type="image/x-icon" />
<title>Y Music</title>
<style type="text/css">
html, body {
  height: 100%;
  padding: 0;
}

body {
  min-width: 1024px;
  margin: 0;
  padding: 0;
  line-height: 1.5em;
}

b {
  font-size: 110%;
}

em {
  color: red;
}

.header {
  position: fixed;
  height: 60px;
  width: 100%;
  background: black;
  border-bottom: 1px solid #ddd;
  z-index: 10;
  max-height: 60px;
}

.wrap_header {
  display: table;
  max-width: 1024px;
  min-width: 1024px;
  margin-left: auto;
  margin-right: auto;
  max-height: 60px;
}

.header #query:focus {
  background-color: lightgray;
  color: black;
}

.headerlogo a::first-letter {
  font-size: 40px;
  color: red;
}

.headerlogo a {
  font-size: 25px;
  padding: 0 0 0 35px;
  float: left;
  color: white;
  font-family: 'Open Sans', Arial, Helvetica, sans-serif;
  text-decoration: none;
  margin-top: 8px;
}

#a1:HOVER {
  text-decoration: none;
  color: white;
}

#ymusicWrapper {
  min-width: 1024px;
  width: 100%;
  height: 100%;
}

#header {
  position: fixed;
  left: 0;
  top: 0;
  right: 0;
  min-width: 1024px;
  height: 56px;
  border-top: 1px solid #0067c4;
  border-bottom: 1px solid #278fe8;
  background: #0067c4;
  z-index: 10;
  background-color: lightskyblue;
  /* height: 110px; /*Height of top section*/
  min-width: 1024px;
  margin-left: auto;
  margin-right: auto;
  max-height: 60px;
}

#header h1 {
  margin: 0;
  padding-top: 15px;
}

#containers {
  position: absolute;
  left: 0;
  right: 0;
  top: 56px;
  bottom: 120px;
  z-index: 10;
  background: #fff;
  color: black;
}

#leftContainer {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 150px;
  padding: 0 !important;
  background: #f2f4f6;
  z-index: 10000;
  border-right: 1px solid #e0e0e0;
}

#centerContainer {
  position: relative;
  min-width: 1024px;
  max-width: 1024px;
  margin: 0 auto;
  overflow: auto;
  height: 100%;
}

#contentcolumn {
  margin: 0 200px 0 230px;
  /*Margins for content column. Should be "0 RightColumnWidth 0 LeftColumnWidth*/
}

#leftcolumn {
  float: left;
  width: 230px; /*Width of left column*/
  margin-left: -100%;
  background: #C8FC98;
}

#rightcolumn {
  float: left;
  width: 200px; /*Width of right column*/
  margin-left: -200px; /*Set left marginto -(RightColumnWidth)*/
  background: #FDE95E;
}

#footer {
  clear: both;
  width: 100%;
  height: 120px;
  background: white;
  color: #FFF;
  text-align: center;
  padding: 0px 0;
  position: fixed;
  left: 0;
  bottom: 0;
  width:100%;
  z-index: 12;
}

#expand-bar {
z-index: 15;
}

#wave * {
 left: 0px;
}

#canvas {
 left: 0px;
}

#footer a {
  color: #FFFF80;
}

/* ####### responsive layout CSS ####### */
@media ( max-width : 840px) {
  /* 1st level responsive layout break point- drop right column down*/
  #leftcolumn {
    margin-left: -100%;
  }
  #rightcolumn {
    float: none;
    width: 100%;
    margin-left: 0;
    clear: both;
  }
  #contentcolumn {
    margin-right: 0; /*Set margin to LeftColumnWidth*/
  }
}

@media ( max-width : 600px) {
  /* 2nd level responsive layout break point- drop left column down */
  #leftcolumn {
    float: none;
    width: 100%;
    clear: both;
    margin-left: 0;
  }
  #contentcolumn {
    margin-left: 0;
  }
}
</style>
</head>

<body>


    <div id="header">
      <div>
        <div class="headerlogo">
          <a id="a1" href="#section01">N E D A M U</a>
        </div>
        <!-- <div id="buttons" style="padding: 15px 150px 0 400px;"> -->
        <div id="buttons" style="margin: 15px 0 0 300px">
          <div style="float: left;&gt;&lt;span id="searchBox">
            <input id="query" value='' style="width: 300px;" type="text"
              placeholder="검색어 입력" />

            <button id="search-button" onclick="keyWordsearch()"
              type="button" class="btn btn-default btn-sm">
              <span class="glyphicon glyphicon-search"
                aria-hidden="true"></span>
            </button>

          </div>
          <div style="float: right;">
            <button type="button"
              class="btn btn-default navbar-btn btn-xs"
              data-toggle="modal" data-target="#signInModal"
              data-whatever="@mdo">로그인</button>
            <button type="button"
              class="btn btn-default navbar-btn btn-xs"
              data-toggle="modal" data-target="#signUpModal"
              data-whatever="@fat">회원가입</button>
          </div>
        </div>
      </div>
      <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog"
        aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-body"></div>
            `
          </div>
        </div>
      </div>

      <div class="modal fade" id="signUpModal" tabindex="-1"
        role="dialog" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <h4 class="modal-title" id="exampleModalLabel">회원가입</h4>
            </div>
            <div class="modal-body">
              <form>
                <div class="form-group">
                  <label for="recipient-name" class="control-label">E-mail:</label>
                  <input type="text" class="form-control" id="email">
                </div>
                <div class="form-group">
                  <label for="message-text" class="control-label">Password:</label>
                  <input type="password" class="form-control"
                    id="password" name=>
                </div>
                <div class="form-group">
                  <label for="message-text" class="control-label">Password
                    Confirm:</label> <input type="password" class="form-control"
                    id="passwordcheck">
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default"
                data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary" id="signup">Sign
                up</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="signInModal" tabindex="-1"
        role="dialog" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal"
                aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <h4 class="modal-title" id="exampleModalLabel">Welcome!</h4>
            </div>
            <div class="modal-body">
              <form id="form1">
                <div class="form-group">
                  <label for="recipient-name" class="control-label">E-mail:</label>
                  <input type="text" class="form-control" id="useremail">
                </div>
                <div class="form-group">
                  <label for="message-text" class="control-label">Password:</label>
                  <input type="password" class="form-control"
                    id="userpassword">
                </div>
                <input type="checkbox" name="saveEmail"> <label
                  for="loginkeeping">save E-mail</label>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default"
                data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary" id="login">LOGIN</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="containers">

      <div id="leftContainer">
        <button id="popularChart"
          onclick="getChartList('PLFgquLnL59alGJcdc0BEZJb2p7IgkL0Oe')">인기차트</button>
        <button id="latestChart"
          onclick="getChartList('PLFgquLnL59anNXuf1M87FT1O169Qt6-Lp')">최신음악</button>
        <!--<button id="popularChart">인기차트</button><br>
        <button id="latestChart">최신음악</button><br>-->
      </div>

      <div id="centerContainer">
        <div id="hoverable-table">
          <table class="table table-hover">
            <thead id="resultThead">
            </thead>
            <tbody id="resultTbody">
            </tbody>
          </table>
        </div>
      </div>
    </div>



    <div id="footer">


        <!-- <div id="cover-art">
          <div id="cover-art-big"></div>
          <img id="cover-art-small" alt="cover-art-small"
            src="assets/img/default.png">
          <div class="instructions">Drop your audio files here.</div>
        </div> -->

        <div id="wave"></div>

        <div id="control-bar">

          <div class="player-control">
            <div id="previous-button" title="Previous">
              <i class="fa fa-fast-backward"></i>
            </div>
            <div id="play-button" title="Play">
              <i class="fa fa-play"></i>
            </div>
            <div id="pause-button" title="Pause">
              <i class="fa fa-pause"></i>
            </div>
            <div id="stop-button" title="Stop">
              <i class="fa fa-stop"></i>
            </div>
            <div id="next-button" title="Next">
              <i class="fa fa-fast-forward"></i>
            </div>
            <div id="shuffle-button" title="Shuffle Off">
              <i class="fa fa-random"></i>
            </div>
            <div id="repeat-button" title="Repeat Off">
              <i class="fa fa-refresh"><span>1</span></i>
            </div>
          </div>

          <div id="playlist">

            <div id="track-details" title="Show playlist">
              <i class="fa fa-sort"></i>
              <p id="track-desc">There are no tracks loaded in the
                player.</p>
              <p id="track-time">
                <span id="current">-</span> / <span id="total">-</span>
              </p>
            </div>

            <div id="expand-bar" class="hidden">

              <form>
                <label for="searchBox">Search</label>
                <div>
                  <input id="searchBox" type="search" name="search">
                </div>
              </form>
              <ul id="list"></ul>
            </div>

          </div>

        </div>

        <div id="drop-zone" class="hidden">Drag &amp; Drop Files
          Here</div>

      </div>

 




  <script src="lib/jquery/jquery.js"></script>
  <script src="lib/bootstrap/js/bootstrap.js"></script>
  <script src="https://apis.google.com/js/client.js?onload=googleApiClientReady"></script>


  <script src="assets/js/id3-minimized.js" charset="utf-8"></script>
  <script src="assets/js/wavesurfer.min.js" charset="utf-8"></script>
  <script src="assets/js/script.js" charset="utf-8"></script>




  <!--auth function-->
  <script>

$('#login').click(
  function(event) {
<<<<<<< HEAD
  	var email = $('#useremail').val();
  	var password = $('#userpassword').val();
  	//var checkValue = $('input:checkbox[name=saveEmail]').is(':checked'));
  	$.post('../auth/login.do', {
  		email: email,
  		password: password
  	},
     function(resultObj) {
      var ajaxResult = resultObj.ajaxResult;
			var testemail;
			if (ajaxResult.status == "success") {
      	emailsession = ajaxResult.data.email;
      	//console.log(emailsession);
      	sessionStorage.setItem("emailsession", emailsession);
      	location.href = "../music/index5.html";
      	
=======
     var email = $('#useremail').val();
     var password = $('#userpassword').val();
     //var checkValue = $('input:checkbox[name=saveEmail]').is(':checked'));
     $.post('../auth/login.do', {
        email: email,
        password: password
     },
     function(resultObj) {
      var ajaxResult = resultObj.ajaxResult;
         var testemail;
         if (ajaxResult.status == "success") {
         emailsession = ajaxResult.data.email;
         //console.log(emailsession);
         sessionStorage.setItem("emailsession", emailsession);
         location.href = "../music/index5.html";
         
>>>>>>> 356791490f1a2e53ee45be1cbd7500a3c25a2289
      } else {
        alert("이메일 또는 비밀번호를 확인하세요.");
      }
    },'json');
  });
$('#signup').click(
<<<<<<< HEAD
	  function(event) {
	  	//console.log("세션테스트 : " + sessionStorage.getItem("emailsession"));
	  	var email = $('#email').val();
	  	var password = $('#password').val();
	  	var passwordcheck = $('#passwordcheck').val();
	  	var regEmail = /([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
	  	
	  	if (email == '' || email == null) {
				alert('email을 입력하세요');
				$("input[id=email]").focus();
				return false;
			}
	  	if(!regEmail.test(email)) {
        alert('유효하지 않은 email입니다');
        $("input[id=email]").focus();
        return false;
  		}
 			if (password == '' || password == null) {
				alert('비밀번호를 입력하세요');
				$("input[id=password]").focus();
				focus.password;
				return false;
			}
			
			if (passwordcheck == '' || passwordcheck == null) {
				alert('비밀번호확인란을 입력하세요');
				$("input[id=passwordcheck]").focus();
				return false;
			}
			
			/*비밀번호와 비밀번호확인란 같은지 확인*/
			if (password != passwordcheck){
				alert("비밀번호와 비밀번호 확인란이 다릅니다.");
				$("input[id=password]").focus();
				return false;
			} 
	  	
	  	$.post('../member/add.do', {
	  		email: email,
	  		password: $('#password').val()
	  		
	  	},
	     function(resultObj) {
	      var ajaxResult = resultObj.ajaxResult;
	      if (ajaxResult.status == "success") {
	        location.href = "main.html";
	      } else {
	        alert("회원가입실패");
	      }
	    },'json');
	  });
=======
     function(event) {
        //console.log("세션테스트 : " + sessionStorage.getItem("emailsession"));
        var email = $('#email').val();
        var password = $('#password').val();
        var passwordcheck = $('#passwordcheck').val();
        var regEmail = /([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/;
        
        if (email == '' || email == null) {
            alert('email을 입력하세요');
            $("input[id=email]").focus();
            return false;
         }
        if(!regEmail.test(email)) {
        alert('유효하지 않은 email입니다');
        $("input[id=email]").focus();
        return false;
        }
          if (password == '' || password == null) {
            alert('비밀번호를 입력하세요');
            $("input[id=password]").focus();
            focus.password;
            return false;
         }
         
         if (passwordcheck == '' || passwordcheck == null) {
            alert('비밀번호확인란을 입력하세요');
            $("input[id=passwordcheck]").focus();
            return false;
         }
         
         /*비밀번호와 비밀번호확인란 같은지 확인*/
         if (password != passwordcheck){
            alert("비밀번호와 비밀번호 확인란이 다릅니다.");
            $("input[id=password]").focus();
            return false;
         } 
        
        $.post('../member/add.do', {
           email: email,
           password: $('#password').val()
           
        },
        function(resultObj) {
         var ajaxResult = resultObj.ajaxResult;
         if (ajaxResult.status == "success") {
           location.href = "main.html";
         } else {
           alert("회원가입실패");
         }
       },'json');
     });
>>>>>>> 356791490f1a2e53ee45be1cbd7500a3c25a2289


</script>

  <script>

  
  
  
//Define some variables used to remember state.
  var playlistId, nextPageToken, prevPageToken;

  // After the API loads, call a function to get the uploads playlist ID.
  function handleAPILoaded() {
    requestUserUploadsPlaylistId();
  }

  // Call the Data API to retrieve the playlist ID that uniquely identifies the
  // list of videos uploaded to the currently authenticated user's channel.
  function requestUserUploadsPlaylistId() {
    // See https://developers.google.com/youtube/v3/docs/channels/list
    var request = gapi.client.youtube.channels.list({
      mine: true,
      part: 'contentDetails'
    });
    request.execute(function(response) {
      playlistId = response.result.items[0].contentDetails.relatedPlaylists.uploads;
      requestVideoPlaylist(playlistId);
    });
  }

  // Retrieve the list of videos in the specified playlist.
  function requestVideoPlaylist(playlistId, pageToken) {
    var requestOptions = {
      playlistId: playlistId,
      part: 'snippet',
      maxResults: 30
    };
    if (pageToken) {
      requestOptions.pageToken = pageToken;
    }
    var request = gapi.client.youtube.playlistItems.list(requestOptions);
    request.execute(function(response) {
      // Only show pagination buttons if there is a pagination token for the
      // next or previous page of results.
      nextPageToken = response.result.nextPageToken;
      var nextVis = nextPageToken ? 'visible' : 'hidden';
      $('#next-button').css('visibility', nextVis);
      prevPageToken = response.result.prevPageToken
      var prevVis = prevPageToken ? 'visible' : 'hidden';
      $('#prev-button').css('visibility', prevVis);

      var playlistItems = response.result.items;
<<<<<<< HEAD
  	  var i = 1;
      if (playlistItems) {
    	  $('#resultTbody').empty();
    	  $('#resultThead').empty();
    	  $('#resultThead').append('<tr><th>선택</th><th>번호</th><th>썸네일</th><th>제목</th><th>듣기</th><th>뮤비</th><th>재생목록</th><th>내앨범</th><th>다운</th>');
=======
       var i = 1;
      if (playlistItems) {
         $('#resultTbody').empty();
         $('#resultThead').empty();
         $('#resultThead').append('<tr><th>선택</th><th>번호</th><th>썸네일</th><th>제목</th><th>듣기</th><th>뮤비</th><th>재생목록</th><th>내앨범</th><th>다운</th>');
>>>>>>> 356791490f1a2e53ee45be1cbd7500a3c25a2289
        $.each(playlistItems, function(index, item) {
          var title = item.snippet.title;
          var videoId = item.snippet.resourceId.videoId;
          vidThumburl =  item.snippet.thumbnails.default.url;
          vidThumbimg = '<img id="thumb" src="'+vidThumburl+'" alt="No  Image Available." style="width:102px;height:64px">';

          
          $('#resultTbody').append('<tr> <td> <input type="checkbox" value='+videoId+' name="check"> </td> <td>'+i+'</td> <td>'+vidThumbimg+'</td> <td>'+title+'</td>'+'<td><button id="newBtn'+videoId+'" type="button" class="btn btn-default btn-sm"     onclick=playMusic("'+videoId+'")><span class="glyphicon glyphicon-headphones" aria-hidden="true"></span></button></td>'+              '<td><button id="newBtn'+videoId+'" type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModal" onclick=playVideo("'+videoId+'")><span class="glyphicon glyphicon-film" aria-hidden="true"></span></button></td>'                 +'<td><button type="button" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button></td>'+'<td><button type="button" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span></button></td>'+'<td><button type="button" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-save" aria-hidden="true"></span></button></td>');
          i++;
        });
      } else {
        $('#resultTbody').append('Sorry you have no uploaded videos');
      }
    });
  }


  // Retrieve the next page of videos in the playlist.
  function nextPage() {
    requestVideoPlaylist(playlistId, nextPageToken);
  }

  // Retrieve the previous page of videos in the playlist.
  function previousPage() {
    requestVideoPlaylist(playlistId, prevPageToken);
  }
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
    function getChartList(chartListId){
            gapi.client.setApiKey('AIzaSyDBgX7Mi8lKTH5pSvx3L_hhz8bCxP2-WP0');
            gapi.client.load('youtube', 'v3', function() {
<<<<<<< HEAD
            	requestVideoPlaylist(chartListId);
            });
    }
=======
               requestVideoPlaylist(chartListId);
            });
    }
    
    function keyWordsearch(){
            gapi.client.setApiKey('AIzaSyDBgX7Mi8lKTH5pSvx3L_hhz8bCxP2-WP0');
            gapi.client.load('youtube', 'v3', function() {
                    makeRequest();
            });
    }
    function makeRequest() {
            var q = $('#query').val();
            var request = gapi.client.youtube.search.list({
                       q: q,
                    part: 'snippet',
                     maxResults: 30
            });
            request.execute(function(response) {
                    var str = JSON.stringify(response.result);
                    //$('#search-container').html('<pre>' + str + '</pre>');
                    $('#resultTbody').empty();
                    $('#resultThead').empty();
                    
                    var resultItems = response.result.items;
                    //console.log(resultItems);
                    var i = 1;
                    $('#resultThead').append('<tr><th>선택</th><th>썸네일</th><th>번호</th><th>제목</th><th>듣기</th><th>뮤비</th><th>재생목록</th><th>내앨범</th><th>다운</th>');
                    $.each(resultItems, function(index, item) {
                      title = item.snippet.title;
                      videoId = item.id.videoId;
                      vidThumburl =  item.snippet.thumbnails.default.url;
                      vidThumbimg = '<img id="thumb" src="'+vidThumburl+'" alt="No  Image Available." style="width:102px;height:64px">';
                      $('#resultTbody').append('<tr> <td> <input type="checkbox" value='+videoId+' name="check"> </td> <td>'+i+'</td> <td>'+vidThumbimg+'</td> <td>'+title+'</td>'+'<td><button id="newBtn'+videoId+'" type="button" class="btn btn-default btn-sm"     onclick=playMusic("'+videoId+'")><span class="glyphicon glyphicon-headphones" aria-hidden="true"></span></button></td>'+              '<td><button id="newBtn'+videoId+'" type="button" class="btn btn-default btn-sm" data-toggle="modal" data-target="#myModal" onclick=playVideo("'+videoId+'")><span class="glyphicon glyphicon-film" aria-hidden="true"></span></button></td>'                 +'<td><button type="button" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></button></td>'+'<td><button type="button" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span></button></td>'+'<td><button type="button" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-save" aria-hidden="true"></span></button></td>');
                      i++;
                    });
            });
    }

>>>>>>> 356791490f1a2e53ee45be1cbd7500a3c25a2289
    
   
    function playMusic(vid) {
       /* $.post('ajax/musicPlay.do', {
          vid: vid
       }, function(resultObj) {
          var ajaxResult = resultObj.ajaxResult;
          if (ajaxResult.status == "success") {
                var musicUrl = ajaxResult.data;
                console.log("iii" +resultObj);
               alert(musicUrl);
            }
          console.log(musicUrl);
          
          
           $("<tr>")
             .html('<video controls="" autoplay="" name="media"><source src = '+musicUrl+ ' type="audio/webm"></video>')
                .appendTo(footer);
         
       }, 'json');  */
       
       
       
        $.getJSON('music/ajax/musicPlay.do?vid='+vid, function(resultObj) {
          var ajaxResult = resultObj.ajaxResult;
          if (ajaxResult.status == "success") {
                var musicUrl = ajaxResult.data;
                //console.log("iii" +resultObj);
               //alert(musicUrl);
            }
          console.log(musicUrl);
          
          //$(footer).empty();
          //$(footer).append('<audio controls="" autoplay="" name="media"><source src = '+musicUrl+ ' type="audio/webm"></audio>');
           //$(footer).append('<a href="'+musicUrl+'" download="aaac.aac">다운로드</a>');
           
           var song = [];
           song["artist"] = "Unknown Artist";
           song["title"] = "haha";
           song["album"] = "";
           song["picture"] = "assets/img/default.png";
           song["audioTrack"] = musicUrl;
           song["playing"] = false;
           allTracks.push(song);                                                                                                                                                                                                                                
         playlist.push(song);
         $('#list').append($(returnTrackHTML(song,playlist.length-1)));
       }); 
    }
   
    function playVideo(vid) {
        $.getJSON('music/ajax/videoPlay.do?vid='+vid, function(resultObj) {
          var ajaxResult = resultObj.ajaxResult;
          if (ajaxResult.status == "success") {
                var videoUrl = ajaxResult.data;
                //console.log("iii" +resultObj);
               //alert(musicUrl);
            }
          console.log(videoUrl);

          $(".modal-body").empty();
           $(".modal-body").append('<video id="videoPlayer" controls="" autoplay="" name="media" width="100%"><source src='+videoUrl+' type="video/mp4"></video>');
           $(".modal-body").append('<a href="'+videoUrl+'" download>다운로드</a>');
       }); 
    }
    
    $('#myModal').click(function () {
       $('.modal-body').empty();
    });

  
  
  
  
  
  
  </script>




</body>
</html>